<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invy - あなたの理想の転職を実現</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .chat-window {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            transform: translateY(20px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .chat-window.show {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .chat-messages {
            height: 360px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease;
        }
        
        .bot-message {
            background: #f3f4f6;
            border-radius: 12px 12px 12px 4px;
            padding: 10px;
            margin-right: 40px;
        }
        
        .user-message {
            background: #3b82f6;
            color: white;
            border-radius: 12px 12px 4px 12px;
            padding: 10px;
            margin-left: 40px;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-right: 40px;
            background: #f3f4f6;
            border-radius: 12px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #9ca3af;
            margin: 0 2px;
            animation: typing 1.4s infinite both;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .chat-window {
                width: calc(100vw - 40px);
                height: 400px;
                bottom: 90px;
                right: 20px;
                left: 20px;
            }
        }
    </style>
</head>
<body class="bg-white">
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-blue-50 to-indigo-100 py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
                    あなたの理想の<br>
                    <span class="gradient-text">転職を実現</span>
                </h1>
                <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                    専門のキャリアアドバイザーがあなたの転職活動を徹底サポート。<br>
                    10,000件以上の求人から最適なマッチングを提供します。
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button class="bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-blue-700 transition duration-300">
                        無料相談を始める
                    </button>
                    <button class="border-2 border-blue-600 text-blue-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-blue-50 transition duration-300">
                        サービス詳細を見る
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Invyが選ばれる3つの理由</h2>
                <p class="text-gray-600 text-lg">専門性と実績で、あなたの転職成功をサポートします</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">スピード対応</h3>
                    <p class="text-gray-600">最短24時間以内にご連絡。迅速な転職サポートで理想の職場へ。</p>
                </div>
                
                <div class="text-center">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">高い成功率</h3>
                    <p class="text-gray-600">95%の内定獲得率。豊富な実績とノウハウで転職を成功に導きます。</p>
                </div>
                
                <div class="text-center">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">専門サポート</h3>
                    <p class="text-gray-600">業界専門のアドバイザーが一人ひとりに最適なキャリアプランを提案。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Stories -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">転職成功事例</h2>
                <p class="text-gray-600 text-lg">実際にInvyを利用して転職を成功させた方々の声</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                            <span class="text-blue-600 font-semibold">A.S</span>
                        </div>
                        <div class="ml-4">
                            <h4 class="font-semibold">28歳 / エンジニア</h4>
                            <p class="text-gray-600">年収 450万円 → 620万円</p>
                        </div>
                    </div>
                    <p class="text-gray-700">「専門のアドバイザーが親身になってサポートしてくれました。希望通りの条件で転職できて大満足です。」</p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                            <span class="text-green-600 font-semibold">M.T</span>
                        </div>
                        <div class="ml-4">
                            <h4 class="font-semibold">32歳 / マーケター</h4>
                            <p class="text-gray-600">年収 380万円 → 520万円</p>
                        </div>
                    </div>
                    <p class="text-gray-700">「転職活動に不安がありましたが、丁寧なサポートのおかげで理想の会社に出会えました。」</p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                            <span class="text-purple-600 font-semibold">K.H</span>
                        </div>
                        <div class="ml-4">
                            <h4 class="font-semibold">35歳 / 営業</h4>
                            <p class="text-gray-600">年収 420万円 → 580万円</p>
                        </div>
                    </div>
                    <p class="text-gray-700">「スピーディーな対応と的確なアドバイスで、短期間で内定を獲得できました。」</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Process Section -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">簡単3ステップで転職成功</h2>
                <p class="text-gray-600 text-lg">面倒な手続きは一切なし。今すぐ始められます</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold">1</div>
                    <h3 class="text-xl font-semibold mb-2">無料相談</h3>
                    <p class="text-gray-600">チャットで簡単に基本情報を入力。すぐに相談を開始できます。</p>
                </div>
                
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold">2</div>
                    <h3 class="text-xl font-semibold mb-2">マッチング</h3>
                    <p class="text-gray-600">専門アドバイザーがあなたに最適な求人をピックアップしてご提案。</p>
                </div>
                
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold">3</div>
                    <h3 class="text-xl font-semibold mb-2">内定獲得</h3>
                    <p class="text-gray-600">面接対策から入社まで徹底サポート。理想の転職を実現します。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">よくある質問</h2>
            </div>
            
            <div class="space-y-4">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-semibold text-lg mb-2">Q: 利用料金はかかりますか？</h3>
                    <p class="text-gray-600">A: 全てのサービスを無料でご利用いただけます。転職が成功した際の成功報酬は企業様からいただいておりますので、ご安心ください。</p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-semibold text-lg mb-2">Q: どのくらいで転職できますか？</h3>
                    <p class="text-gray-600">A: 個人差はありますが、平均的には1〜3ヶ月程度で内定獲得される方が多いです。お急ぎの場合は最短で1週間での内定実績もあります。</p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="font-semibold text-lg mb-2">Q: 地方の求人も扱っていますか？</h3>
                    <p class="text-gray-600">A: はい、全国の求人を取り扱っております。地方都市の優良企業から都市部のグローバル企業まで幅広くご紹介可能です。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="py-16 bg-gradient-to-br from-blue-600 to-indigo-700 text-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold mb-4">今すぐ転職活動を始めませんか？</h2>
            <p class="text-xl mb-8 opacity-90">
                専門のキャリアアドバイザーが無料であなたの転職をサポートします
            </p>
            <button class="bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition duration-300">
                無料相談を始める
            </button>
        </div>
    </section>

    <!-- Chatbot Float Button -->
    <div class="chatbot-container">
        <button id="chatbot-toggle" class="w-16 h-16 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition duration-300 flex items-center justify-center">
            <svg id="chat-icon" class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
            </svg>
            <svg id="close-icon" class="w-8 h-8 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    </div>

    <!-- Chatbot Window -->
    <div id="chat-window" class="chat-window">
        <div class="bg-blue-600 text-white p-4 rounded-t-lg">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-2">
                        <span class="text-sm font-bold">I</span>
                    </div>
                    <div>
                        <h3 class="font-semibold">Invyアドバイザー</h3>
                        <p class="text-xs opacity-80">転職サポート中</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <div id="progress-bar" class="w-20 h-1 bg-blue-500 rounded-full mr-2">
                        <div id="progress-fill" class="h-full bg-white rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                    <span id="step-counter" class="text-xs">1/3</span>
                </div>
            </div>
        </div>
        
        <div id="chat-messages" class="chat-messages p-4">
            <!-- Messages will be dynamically added here -->
        </div>
        
        <div class="p-4 border-t">
            <div id="input-container">
                <input type="text" id="chat-input" placeholder="メッセージを入力..." class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button id="send-button" class="mt-2 w-full bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition duration-300">
                    送信
                </button>
            </div>
            <div id="button-container" class="hidden space-y-2">
                <!-- Choice buttons will be added here -->
            </div>
        </div>
    </div>

    <script>
        // Chatbot Logic
        class Chatbot {
            constructor() {
                this.currentStep = 1;
                this.userData = {};
                this.isOpen = false;
                this.isTyping = false;
                
                this.initializeElements();
                this.initializeEventListeners();
                this.showWelcomeMessage();
            }
            
            initializeElements() {
                this.toggleBtn = document.getElementById('chatbot-toggle');
                this.chatWindow = document.getElementById('chat-window');
                this.messagesContainer = document.getElementById('chat-messages');
                this.chatInput = document.getElementById('chat-input');
                this.sendButton = document.getElementById('send-button');
                this.inputContainer = document.getElementById('input-container');
                this.buttonContainer = document.getElementById('button-container');
                this.progressFill = document.getElementById('progress-fill');
                this.stepCounter = document.getElementById('step-counter');
                this.chatIcon = document.getElementById('chat-icon');
                this.closeIcon = document.getElementById('close-icon');
            }
            
            initializeEventListeners() {
                this.toggleBtn.addEventListener('click', () => this.toggleChat());
                this.sendButton.addEventListener('click', () => this.sendMessage());
                this.chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.sendMessage();
                });
            }
            
            toggleChat() {
                this.isOpen = !this.isOpen;
                if (this.isOpen) {
                    this.chatWindow.classList.add('show');
                    this.chatIcon.classList.add('hidden');
                    this.closeIcon.classList.remove('hidden');
                    this.chatInput.focus();
                } else {
                    this.chatWindow.classList.remove('show');
                    this.chatIcon.classList.remove('hidden');
                    this.closeIcon.classList.add('hidden');
                }
            }
            
            addMessage(content, isBot = true, isChoice = false) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message';
                
                if (isChoice) {
                    this.inputContainer.classList.add('hidden');
                    this.buttonContainer.classList.remove('hidden');
                    this.buttonContainer.innerHTML = '';
                    
                    content.forEach(choice => {
                        const button = document.createElement('button');
                        button.className = 'w-full p-2 text-left bg-gray-100 hover:bg-gray-200 rounded-lg transition duration-200';
                        button.textContent = choice.text;
                        button.onclick = () => this.selectChoice(choice);
                        this.buttonContainer.appendChild(button);
                    });
                } else {
                    messageDiv.innerHTML = `
                        <div class="${isBot ? 'bot-message' : 'user-message'}">
                            ${content}
                        </div>
                    `;
                    this.messagesContainer.appendChild(messageDiv);
                    this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;
                }
            }
            
            selectChoice(choice) {
                this.addMessage(choice.text, false);
                this.userData[choice.key] = choice.value;
                
                this.inputContainer.classList.remove('hidden');
                this.buttonContainer.classList.add('hidden');
                
                this.handleStepProgression();
            }
            
            showTypingIndicator() {
                if (this.isTyping) return;
                this.isTyping = true;
                
                const typingDiv = document.createElement('div');
                typingDiv.className = 'typing-indicator';
                typingDiv.id = 'typing-indicator';
                typingDiv.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                this.messagesContainer.appendChild(typingDiv);
                this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;
            }
            
            hideTypingIndicator() {
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
                this.isTyping = false;
            }
            
            async botReply(message, delay = 1000) {
                this.showTypingIndicator();
                await new Promise(resolve => setTimeout(resolve, delay));
                this.hideTypingIndicator();
                this.addMessage(message);
            }
            
            async showWelcomeMessage() {
                await this.botReply('こんにちは！Invyの転職アドバイザーです');
                await this.botReply('簡単な質問にお答えいただくことで、あなたに最適な転職プランをご提案いたします。');
                await this.botReply('まず、お名前を教えていただけますか？', 500);
            }
            
            sendMessage() {
                const message = this.chatInput.value.trim();
                if (!message) return;
                
                this.addMessage(message, false);
                this.userData[this.getCurrentStepKey()] = message;
                this.chatInput.value = '';
                
                this.handleStepProgression();
            }
            
            getCurrentStepKey() {
                const stepKeys = {
                    1: 'name',
                    2: 'desiredIndustry',
                    3: 'email'
                };
                return stepKeys[this.currentStep];
            }
            
            async handleStepProgression() {
                this.currentStep++;
                this.updateProgress();
                
                switch(this.currentStep) {
                    case 2:
                        await this.botReply(`${this.userData.name}さん、よろしくお願いします！`);
                        await this.botReply('希望する業界を選択してください。', 500);
                        this.addMessage([
                            { text: 'IT・インターネット', key: 'desiredIndustry', value: 'IT・インターネット' },
                            { text: '営業・企画・管理', key: 'desiredIndustry', value: '営業・企画・管理' },
                            { text: '製造・エンジニア', key: 'desiredIndustry', value: '製造・エンジニア' },
                            { text: 'その他', key: 'desiredIndustry', value: 'その他' }
                        ], true, true);
                        return;
                    case 3:
                        await this.botReply('最後にメールアドレスを教えてください。', 800);
                        break;
                    case 4:
                        await this.completeRegistration();
                        break;
                }
            }
            
            async completeRegistration() {
                await this.botReply('ありがとうございました！');
                await this.botReply('いただいた情報をもとに、最適な転職プランをご提案いたします。', 800);
                await this.botReply('24時間以内に担当アドバイザーからご連絡いたします。', 800);
                
                // Save data to localStorage
                localStorage.setItem('invyUserData', JSON.stringify(this.userData));
                
                // Redirect to complete page after 2 seconds
                setTimeout(() => {
                    const currentParams = window.location.search;
                    window.location.href = 'https://invy-cv-page.vercel.app/complete.html' + currentParams;
                }, 2000);
            }
            
            updateProgress() {
                const progress = Math.min((this.currentStep - 1) / 3 * 100, 100);
                const step = Math.min(this.currentStep, 3);
                
                this.progressFill.style.width = `${progress}%`;
                this.stepCounter.textContent = `${step}/3`;
            }
        }
        
        // Initialize chatbot when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new Chatbot();
        });
    </script>
</body>
</html>